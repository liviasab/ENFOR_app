{"version":3,"file":"ui-project-detector.esm.js","sources":["../src/index.ts"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst os = require('os');\n\nexport const projectDetector = async () => {\n  const currDir = process.cwd();\n\n  const projectFiles = fs.readdirSync(currDir);\n  const parentFiles = fs.readdirSync(path.resolve(currDir, '..'));\n\n  let app: any = { framework: 'Unknown' };\n\n  if (projectFiles.includes('package.json')) {\n    const packageJson = require(`${currDir}/package.json`);\n    const dependencies = packageJson.dependencies || {};\n\n    if (dependencies.hasOwnProperty('react')) {\n      app['framework'] = 'React';\n\n      if (dependencies.hasOwnProperty('expo')) {\n        app['framework'] = 'Expo';\n      } else if (dependencies.hasOwnProperty('next')) {\n        app['framework'] = 'Next';\n      } else if (dependencies.hasOwnProperty('react-native')) {\n        app['framework'] = 'React Native CLI';\n      }\n    }\n  }\n\n  if (parentFiles.includes('package.json')) {\n    const parentPackageJson = require(path.resolve(\n      currDir,\n      '..',\n      'package.json'\n    ));\n    app['meta'] = {};\n    const workspaces = parentPackageJson.workspaces;\n    if (workspaces) {\n      app['meta']['isWorkspace'] = true;\n      app['meta']['workspaces'] = workspaces;\n    }\n  }\n\n  app['os'] = os.platform();\n\n  return app;\n};\n"],"names":["fs","require","path","os","projectDetector","currDir","process","cwd","projectFiles","readdirSync","parentFiles","resolve","app","framework","includes","packageJson","dependencies","hasOwnProperty","parentPackageJson","workspaces","platform"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,EAAE,gBAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,IAAMC,IAAI,gBAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAME,EAAE,gBAAGF,OAAO,CAAC,IAAI,CAAC;IAEXG,eAAe;EAAA,mFAAG;IAAA;IAAA;MAAA;QAAA;UACvBC,OAAO,GAAGC,OAAO,CAACC,GAAG,EAAE;UAEvBC,YAAY,GAAGR,EAAE,CAACS,WAAW,CAACJ,OAAO,CAAC;UACtCK,WAAW,GAAGV,EAAE,CAACS,WAAW,CAACP,IAAI,CAACS,OAAO,CAACN,OAAO,EAAE,IAAI,CAAC,CAAC;UAE3DO,GAAG,GAAQ;YAAEC,SAAS,EAAE;WAAW;UAEvC,IAAIL,YAAY,CAACM,QAAQ,CAAC,cAAc,CAAC,EAAE;YACnCC,WAAW,GAAGd,OAAO,CAAII,OAAO,mBAAgB;YAChDW,YAAY,GAAGD,WAAW,CAACC,YAAY,IAAI,EAAE;YAEnD,IAAIA,YAAY,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;cACxCL,GAAG,CAAC,WAAW,CAAC,GAAG,OAAO;cAE1B,IAAII,YAAY,CAACC,cAAc,CAAC,MAAM,CAAC,EAAE;gBACvCL,GAAG,CAAC,WAAW,CAAC,GAAG,MAAM;eAC1B,MAAM,IAAII,YAAY,CAACC,cAAc,CAAC,MAAM,CAAC,EAAE;gBAC9CL,GAAG,CAAC,WAAW,CAAC,GAAG,MAAM;eAC1B,MAAM,IAAII,YAAY,CAACC,cAAc,CAAC,cAAc,CAAC,EAAE;gBACtDL,GAAG,CAAC,WAAW,CAAC,GAAG,kBAAkB;;;;UAK3C,IAAIF,WAAW,CAACI,QAAQ,CAAC,cAAc,CAAC,EAAE;YAClCI,iBAAiB,GAAGjB,OAAO,CAACC,IAAI,CAACS,OAAO,CAC5CN,OAAO,EACP,IAAI,EACJ,cAAc,CACf,CAAC;YACFO,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE;YACVO,UAAU,GAAGD,iBAAiB,CAACC,UAAU;YAC/C,IAAIA,UAAU,EAAE;cACdP,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI;cACjCA,GAAG,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,GAAGO,UAAU;;;UAI1CP,GAAG,CAAC,IAAI,CAAC,GAAGT,EAAE,CAACiB,QAAQ,EAAE;UAAC,iCAEnBR,GAAG;QAAA;QAAA;UAAA;;;GACX;EAAA,gBA1CYR,eAAe;IAAA;;AAAA;;;;"}