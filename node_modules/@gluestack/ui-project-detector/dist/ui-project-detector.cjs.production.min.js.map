{"version":3,"file":"ui-project-detector.cjs.production.min.js","sources":["../src/index.ts"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst os = require('os');\n\nexport const projectDetector = async () => {\n  const currDir = process.cwd();\n\n  const projectFiles = fs.readdirSync(currDir);\n  const parentFiles = fs.readdirSync(path.resolve(currDir, '..'));\n\n  let app: any = { framework: 'Unknown' };\n\n  if (projectFiles.includes('package.json')) {\n    const packageJson = require(`${currDir}/package.json`);\n    const dependencies = packageJson.dependencies || {};\n\n    if (dependencies.hasOwnProperty('react')) {\n      app['framework'] = 'React';\n\n      if (dependencies.hasOwnProperty('expo')) {\n        app['framework'] = 'Expo';\n      } else if (dependencies.hasOwnProperty('next')) {\n        app['framework'] = 'Next';\n      } else if (dependencies.hasOwnProperty('react-native')) {\n        app['framework'] = 'React Native CLI';\n      }\n    }\n  }\n\n  if (parentFiles.includes('package.json')) {\n    const parentPackageJson = require(path.resolve(\n      currDir,\n      '..',\n      'package.json'\n    ));\n    app['meta'] = {};\n    const workspaces = parentPackageJson.workspaces;\n    if (workspaces) {\n      app['meta']['isWorkspace'] = true;\n      app['meta']['workspaces'] = workspaces;\n    }\n  }\n\n  app['os'] = os.platform();\n\n  return app;\n};\n"],"names":["fs","require","path","os","currDir","process","cwd","projectFiles","readdirSync","parentFiles","resolve","app","framework","includes","packageJson","dependencies","hasOwnProperty","parentPackageJson","workspaces","platform"],"mappings":"u0NAAA,IAAMA,EAAKC,QAAQ,MACbC,EAAOD,QAAQ,QACfE,EAAKF,QAAQ,yCAES,kBAAG,aAAA,oBAAA,6BAAA,6BAAA,OAuCH,OAtCpBG,EAAUC,QAAQC,MAElBC,EAAeP,EAAGQ,YAAYJ,GAC9BK,EAAcT,EAAGQ,YAAYN,EAAKQ,QAAQN,EAAS,OAErDO,EAAW,CAAEC,UAAW,WAExBL,EAAaM,SAAS,kBAClBC,EAAcb,QAAWG,oBACzBW,EAAeD,EAAYC,cAAgB,IAEhCC,eAAe,WAC9BL,EAAe,UAAI,QAEfI,EAAaC,eAAe,QAC9BL,EAAe,UAAI,OACVI,EAAaC,eAAe,QACrCL,EAAe,UAAI,OACVI,EAAaC,eAAe,kBACrCL,EAAe,UAAI,sBAKrBF,EAAYI,SAAS,kBACjBI,EAAoBhB,QAAQC,EAAKQ,QACrCN,EACA,KACA,iBAEFO,EAAU,KAAI,IACRO,EAAaD,EAAkBC,cAEnCP,EAAU,KAAe,aAAI,EAC7BA,EAAU,KAAc,WAAIO,IAIhCP,EAAQ,GAAIR,EAAGgB,6BAERR,GAAG,OAAA,UAAA,0BACX,kBA1C2B"}